"""–°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–≥–æ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π."""

from __future__ import annotations

from beartype import beartype


@beartype
def get_onboarding_tip(message_count: int) -> str | None:
    """–ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–æ–æ–±—â–µ–Ω–∏–π.

    Args:
        message_count: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —Å–æ–æ–±—â–µ–Ω–∏–π

    Returns:
        str | None: –¢–µ–∫—Å—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∏ –∏–ª–∏ None –µ—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å
    """
    tips = {
        1: "üí° **–°–æ–≤–µ—Ç:** –Ø –ø–æ–Ω–∏–º–∞—é –≤–æ–ø—Ä–æ—Å—ã –Ω–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —è–∑—ã–∫–µ. –ü–∏—à–∏—Ç–µ –∫–∞–∫ –æ–±—ã—á–Ω–æ!",
        3: "üí° **–°–æ–≤–µ—Ç:** –Ø –ø–æ–º–Ω—é –Ω–∞—à –¥–∏–∞–ª–æ–≥ –∏ –º–æ–≥—É –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã!",
        5: "üí° **–°–æ–≤–µ—Ç:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É /menu –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–∞–∑–¥–µ–ª–∞–º.",
        10: "üí° **–°–æ–≤–µ—Ç:** –ö–æ–º–∞–Ω–¥–∞ /reset –ø–æ–º–æ–∂–µ—Ç –Ω–∞—á–∞—Ç—å –Ω–æ–≤—ã–π —Ä–∞–∑–≥–æ–≤–æ—Ä —Å —á–∏—Å—Ç–æ–≥–æ –ª–∏—Å—Ç–∞.",
        20: "üéâ –í—ã –æ—Å–≤–æ–∏–ª–∏ –±–æ—Ç–∞! –°–ø–∞—Å–∏–±–æ —á—Ç–æ –ø–æ–ª—å–∑—É–µ—Ç–µ—Å—å –Ω–∞—à–∏–º —Å–µ—Ä–≤–∏—Å–æ–º.",
    }

    return tips.get(message_count)


@beartype
def should_show_onboarding_tip(
    message_count: int,
    last_tip_shown: int | None = None,
) -> bool:
    """–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω—É–∂–Ω–æ –ª–∏ –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É.

    Args:
        message_count: –¢–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π
        last_tip_shown: –ù–æ–º–µ—Ä –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø–æ–∫–∞–∑–∞–Ω–Ω–æ–π –ø–æ–¥—Å–∫–∞–∑–∫–∏

    Returns:
        bool: True –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É
    """
    # –ï—Å–ª–∏ —ç—Ç–æ –æ–¥–Ω–∞ –∏–∑ "–æ—Å–æ–±—ã—Ö" —Ç–æ—á–µ–∫
    tip_points = [1, 3, 5, 10, 20]
    
    if message_count not in tip_points:
        return False

    # –ï—Å–ª–∏ —É–∂–µ –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏ —ç—Ç—É –ø–æ–¥—Å–∫–∞–∑–∫—É - –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–Ω–æ–≤–∞
    if last_tip_shown is not None and message_count <= last_tip_shown:
        return False

    return True
